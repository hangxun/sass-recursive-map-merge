@function recursive-map-merge($map1, $map2) {
    @if (type-of($map1) == map and type-of($map2) == map) {
        $result: $map1;
        @each $key, $value in $map2 {
            @if (type-of(map-get($result, $key)) == map and type-of($value) == map) {
                $result: map-merge($result, ($key: recursive-map-merge(map-get($result, $key), $value)));
            }
            @else {
                $result: map-merge($result, ($key: $value));
            }
        }
        @return $result;
    }
    @else {
        @warn 'recursive-map-merge() expects it\'s parameters to be map types!';
        @return null;
    }
}